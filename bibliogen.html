<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Générateur de bibliographie</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f6fa;
            color: #333;
            padding: 30px;
        }

        form {
            background: #fff;
            padding: 20px 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            margin: auto;
        }

        b {
            display: block;
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        input[type="radio"] {
            margin-right: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        td {
            padding: 8px;
        }

        input[type="text"],
        textarea {
            font-size: 14px;
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            outline: none;
            transition: 0.2s ease-in-out;
            width: 95%;
        }

        input:focus,
        textarea:focus {
            border-color: #007bff;
            box-shadow: 0 0 4px rgba(0, 123, 255, 0.4);
        }

        input[type="button"] {
            background: #007bff;
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            margin-right: 10px;
            border: none;
            padding: 8px 14px;
            border-radius: 6px;
        }

        input[type="button"]:hover {
            background: #0056b3;
        }

        textarea {
            width: 100%;
            resize: none;
            margin-top: 10px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<script>
    function toggleFields(type) {
        // Liste des champs par type de document
        const mapping = {
            livre: ["result", "result2", "result3", "result6", "result9", "result12"],
            article: ["result", "result2", "result8", "result4", "result11", "result9", "result13"],
            web: ["result", "result2", "result15", "result5", "result9", "result10", "result14"],
            ia: ["result19", "result17", "result18", "result21","result22"]
        };

        // Tous les champs du formulaire
        const allFields = document.querySelectorAll("input[type=text]");

        // Masquer tout
        allFields.forEach(f => f.parentElement.classList.add("hidden"));

        document.getElementById("commentaireBloc").classList.add("hidden");

        // Réafficher ceux du type choisi
        if (mapping[type]) {
            mapping[type].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.parentElement.classList.remove("hidden");
            });
        }

        // Si IA → afficher la zone commentaire
        if (type === "ia") {
            document.getElementById("commentaireBloc").classList.remove("hidden");
        }
    }

    function copieChoix() {
        var separ = ", ";
        var separ2 = ". ";
        var separ3 = "p. ";
        var separ4 = "n° ";
        var separ5 = " Consulté le : ";
        var separ6 = "Disponible sur : ";
        var separ7 = " [En ligne]";
        var separ8 = '"';
        var separ9 = " p.";
        var separ10 = " IA : ";
        var separ11 = " | Prompt : ";
        var separ12 = " (";
        var separ13 = ")";
        var separ14 = "Consulté le : ";
        var separ15 = " Analyse critique du contenu généré : ";
        var separ16 = " <i> ";
        var separ17 = " </i> ";

        var concat = "";

        if (document.getElementById("livre").checked) {
            concat = document.getElementById("result").value.toUpperCase() + separ +
                document.getElementById("result2").value + separ2 + separ16 +
                document.getElementById("result3").value + separ17 + separ2 +
                document.getElementById("result6").value + separ +
                document.getElementById("result9").value + separ2 +
                document.getElementById("result12").value + separ9;
        }

        if (document.getElementById("article").checked) {
            concat = document.getElementById("result").value.toUpperCase() + separ +
                document.getElementById("result2").value + separ2 +
                separ8 + document.getElementById("result8").value + separ8 + separ2 + separ16 +
                document.getElementById("result4").value + separ17 + separ +
                separ4 + document.getElementById("result11").value + separ +
                document.getElementById("result9").value + separ2 +
                separ3 + document.getElementById("result13").value;
        }

        if (document.getElementById("web").checked) {
            concat = document.getElementById("result").value.toUpperCase() + separ +
                document.getElementById("result2").value + separ2 +
                separ8 + document.getElementById("result15").value + separ8 + separ2 + separ16 +
                document.getElementById("result5").value + separ17 + separ7 + separ +
                document.getElementById("result9").value + separ2 +
                separ5 + document.getElementById("result10").value + separ2 +
                separ6 + document.getElementById("result14").value;
        }

        if (document.getElementById("ia").checked) {
            concat = separ8 + document.getElementById("result17").value + separ8 + separ + 
                document.getElementById("result19").value + separ +
                document.getElementById("result21").value
                //  document.getElementById("result20").value 
                + separ2 + separ14 + document.getElementById("result18").value + separ2 + separ15 +
                document.getElementById("result22").value
                ;
        }

        if (concat === "") {
            alert("Choississez un type de document !");
            return false;
        }

        document.getElementById("result16").value = concat;
    }
</script>

<form name="form">
    <b>1 - Choisissez le type de document :</b>
    <label><input type="radio" name="typedoc" id="livre" onclick="toggleFields('livre')"> Livre</label>
    <label><input type="radio" name="typedoc" id="article" onclick="toggleFields('article')"> Article de périodique (journaux, revues)</label>
    <label><input type="radio" name="typedoc" id="web" onclick="toggleFields('web')"> Page de site internet</label>
    <label><input type="radio" name="typedoc" id="ia" onclick="toggleFields('ia')"> IA Générative</label>

    <b>2 - Remplissez les champs suivants :</b>
    <table>
        <tr>
            <td><input type="text" id="result" value="NOM de l'auteur"></td>
            <td><input type="text" id="result2" value="Prénom de l'auteur"></td>
            <td><input type="text" id="result3" value="Titre du livre"></td>
        </tr>
        <tr>
            <td><input type="text" id="result4" value="Titre du périodique"></td>
            <td><input type="text" id="result5" value="Nom du site web"></td>
            <td><input type="text" id="result6" value="Éditeur"></td>
        </tr>
        <tr>
            <td><input type="text" id="result8" value="Titre de l'article"></td>
            <td><input type="text" id="result9" value="Date de publication"></td>
        </tr>
        <tr>
            <td><input type="text" id="result10" value="Date de consultation" placeholder = "Date de consultation"></td>
            <td><input type="text" id="result11" value="Numéro" placeholder = "Numéro"></td>
            <td><input type="text" id="result12" value="Nombre total de pages" placeholder = "Nombre total de pages"></td>
        </tr>
        <tr>
            <td><input type="text" id="result13" value="Pagination" placeholder = "Pagination"></td>
            <td><input type="text" id="result14" value="Adresse URL" placeholder = "Adresse URL"></td>
            <td><input type="text" id="result15" value="Titre de la page web" placeholder = "Titre de la page web"></td>
        </tr>
        <tr>
            <td><input type="text" id="result19" value="Nom de l'IA" placeholder = "Nom de l'IA"></td>
            <td><input type="text" id="result17" value="Prompt utilisé" placeholder = "Prompt utilisé"></td>
            <td><input type="text" id="result18" value="Date d'utilisation (JJ mois AAAA)" placeholder = "Date d'utilisation (JJ mois AAAA)"></td>
        </tr>
        <tr>
            <!-- <td><input type="text" id="result20" value="Version utilsiée"></td> A ajouté si on veut la version de l'IA -->
            <td><input type="text" id="result21" value="Développeur de l'IA" placeholder="Développeur de l'IA"></td>
        </tr>
    </table>
        <div id="commentaireBloc" class="hidden">
            <b>3 - Analyse critique du contenu généré :</b>
            <textarea id="result22" rows="6" 
                    value = ""
                    placeholder="Écrivez ici votre commentaire ou analyse critique..." 
                    style="width:100%; margin-top:10px;"></textarea>
        </div>
    <input type="button" value="Générer" onclick="copieChoix()">
    <input type="button" value="Réinitialiser" onclick="this.form.reset(); toggleFields('')">

    <b>4 - Référence générée :</b>
    <textarea readonly id="result16" rows="5"></textarea>

</form>
<br />
N'oubliez pas de <b>mettre en forme le titre</b> (situ&eacute; entre les balises &lt;i&gt; et &lt;/i&gt;) :<br />
- le <u>souligner</u>, pour une bibliographie &eacute;crite &agrave; la main<br />
- le mettre en <i>italique</i>, pour une bibliographie &agrave; l'ordinateur<br />
</body>
</html>
